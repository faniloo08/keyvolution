<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>KeyVolution Piano learning app</title>
    <link rel="stylesheet" href="./index.css" />
    <!-- <link rel="stylesheet" href="responsive.css" /> -->
    
  <script defer src="renderer.js"></script><script defer src="basic.js"></script></head>
  <body id="landing-page">
    <div id="ispm"></div>

    <div class="slogan-container">
      <p class="slogan">
        Transformez n'importe quelle chanson en
        <strong style="color: #F73DEE;">partitions interactives</strong>
      </p>
    </div>

    <div id="logo"></div>
    <div class="btn-container">
      <button class="btn" id="startButton">Commencer</button>
    </div>

    <!-- MODAL1 SIGN IN / SIGN UP -->
<div id="authModal1" class="modal1-overlay">
  <div class="modal1-box">
    <span class="modal1-close" onclick="closeModal1()">&times;</span>
    <div class="logo-container">
      <img src="../Design/logo2.png" alt="logo" class="modal1-logo" />
    </div>
    <div class="switch-buttons">
      <button id="btnSignIn" class="active" onclick="showSignIn()">Log In</button>
      <button id="btnSignUp" onclick="showSignUp()">Sign Up</button>
    </div>

    <form id="formSignIn" class="modal1-form" onsubmit="handleSignIn(event)">
      <input type="text" placeholder="Nom d'utilisateur ou Email" required />
      <input type="password" placeholder="Mot de passe" required />
      <button type="submit" class="primary-btn">Se connecter</button>
    </form>

    <form id="formSignUp" class="modal1-form hidden" onsubmit="handleSignUp(event)">
      <input type="text" placeholder="Nom d'utilisateur" required />
      <input type="email" placeholder="Email" required />
      <input type="password" placeholder="Mot de passe" required />
      <input type="password" placeholder="Confirmation mot de passe" required />
      <input type="file" id="signupImage" accept="image/png, image/jpeg" />
      <img id="previewSignupImage" src="" alt="Aperçu image" style="max-width: 100px; margin-top: 10px; border-radius: 10px; display: none;" />
      <button type="submit" class="primary-btn">S'inscrire</button>
    </form>
  </div>
</div>


<script>
  const modal1 = document.getElementById("authModal1");
  const formSignIn = document.getElementById("formSignIn");
  const formSignUp = document.getElementById("formSignUp");
  const btnSignIn = document.getElementById("btnSignIn");
  const btnSignUp = document.getElementById("btnSignUp");

  document.getElementById("startButton").addEventListener("click", () => {
    modal1.style.display = "flex";
  });

  function closeModal1() {
    modal1.style.display = "none";
  }

  function showSignIn() {
    formSignIn.classList.remove("hidden");
    formSignUp.classList.add("hidden");
    btnSignIn.classList.add("active");
    btnSignUp.classList.remove("active");

  }

  function showSignUp() {
    formSignUp.classList.remove("hidden");
    formSignIn.classList.add("hidden");
    btnSignUp.classList.add("active");
    btnSignIn.classList.remove("active");

  }

  function handleSignIn(event) {
  event.preventDefault(); // Empêche la soumission classique du formulaire

  // Récupérer les valeurs des champs (facultatif si tu veux les exploiter)
  const inputs = event.target.querySelectorAll('input');
  const usernameOrEmail = inputs[0].value.trim();
  const password = inputs[1].value.trim();

  // Tu peux ajouter une vérification personnalisée ici si besoin

  // Redirection
  window.location.href = "./Home/home.html";
}

function handleSignUp(event) {
  event.preventDefault(); // Empêche la soumission classique du formulaire

  const inputs = event.target.querySelectorAll('input');
  const username = inputs[0].value.trim();
  const email = inputs[1].value.trim();
  const password = inputs[2].value.trim();
  const confirmPassword = inputs[3].value.trim();

  if (password !== confirmPassword) {
    alert("Les mots de passe ne correspondent pas.");
    return;
  }

  // Tu peux aussi vérifier si un fichier image a été sélectionné :
  const imageInput = document.getElementById("signupImage");
  const file = imageInput.files[0];
  if (!file) {
    alert("Veuillez ajouter une image de profil.");
    return;
  }

  // Redirection
  window.location.href = "./Home/home.html";
}


  function goToHome() {
    window.location.href = "./Home/home.html";
  }

</script>
  </body>
  <script src="./renderer.js"></script>
</html>